{"version":3,"file":"listener-Cu2ljot5-D8xInyLe.js","sources":["node_modules/@siemens/ix/dist/esm/listener-Cu2ljot5.js"],"sourcesContent":["import { g as getElement } from './index-BNpBEtDH.js';\n\n/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nconst defaultOptions = {\n    target: 'window',\n    defaultEnabled: true,\n};\nfunction createListener(event, options = {}) {\n    const opts = Object.assign(Object.assign({}, defaultOptions), options);\n    let callback;\n    const onEvent = (event) => {\n        callback(event);\n    };\n    const resultObject = {\n        on: (onEventCallback) => {\n            callback = onEventCallback;\n        },\n        isEnabled: opts.defaultEnabled,\n        enable: (state) => {\n            resultObject.isEnabled = state;\n            if (state) {\n                addEventListener(event, onEvent);\n            }\n            else {\n                removeEventListener(event, onEvent);\n            }\n        },\n        destroy: () => {\n            resultObject.enable(false);\n        },\n    };\n    resultObject.enable(!!opts.defaultEnabled);\n    return resultObject;\n}\nfunction OnListener(event, fnExp) {\n    return (proto, methodName) => {\n        const { componentWillLoad, componentWillRender, disconnectedCallback } = proto;\n        if (fnExp) {\n            proto.componentWillRender = function () {\n                var _a;\n                const host = getElement(this);\n                (_a = host[`__ix__${methodName}`]) === null || _a === void 0 ? void 0 : _a.enable(fnExp(this));\n                return componentWillRender && componentWillRender.call(this);\n            };\n        }\n        proto.componentWillLoad = function () {\n            const listener = createListener(event);\n            const host = getElement(this);\n            const method = this[methodName];\n            host[`__ix__${methodName}`] = listener;\n            listener.on(method.bind(this));\n            return componentWillLoad && componentWillLoad.call(this);\n        };\n        proto.disconnectedCallback = function () {\n            var _a;\n            const host = getElement(this);\n            if (host && host[`__ix__${methodName}`]) {\n                (_a = host[`__ix__${methodName}`]) === null || _a === void 0 ? void 0 : _a.destroy();\n                host[`__ix__${methodName}`] = null;\n            }\n            return disconnectedCallback && disconnectedCallback.call(this);\n        };\n    };\n}\n\nexport { OnListener as O };\n//# sourceMappingURL=listener-Cu2ljot5.js.map\n\n//# sourceMappingURL=listener-Cu2ljot5.js.map"],"names":[],"mappings":"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","x_google_ignoreList":[0]}