{"version":3,"file":"ix-modal.entry-DnLuhjWg.js","sources":["node_modules/@siemens/ix/dist/esm/ix-modal.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-BNpBEtDH.js';\nimport { a as anime } from './anime.es-Ou74PMQs.js';\nimport { b as a11yHostAttributes, a as a11yBoolean } from './a11y-Bb7pDeaQ.js';\nimport { A as Animation } from './animation-Dp15M30K.js';\nimport { O as OnListener } from './listener-Cu2ljot5.js';\n\n/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nfunction waitForElement(selector, doc, timeout = 3000) {\n    return new Promise((resolve, reject) => {\n        const startTime = Date.now();\n        const checkIfElementExist = () => {\n            const dialog = doc.querySelector(selector);\n            if (dialog) {\n                resolve(dialog);\n            }\n            else {\n                if (Date.now() - startTime < timeout) {\n                    setTimeout(checkIfElementExist);\n                }\n                else {\n                    reject();\n                }\n            }\n        };\n        checkIfElementExist();\n    });\n}\n\nconst modalCss = \"::backdrop{--ix-dialog-backdrop:var(--theme-color-lightbox, #0000008c)}:focus-visible{outline:none !important}:host{display:none}:host dialog{--ix-dialog-padding:1rem;margin:0;padding:var(--ix-dialog-padding);padding-top:calc(var(--ix-dialog-padding) + var(--ix-safe-area-inset-top));padding-bottom:calc(var(--ix-dialog-padding) + var(--ix-safe-area-inset-bottom));left:50%}:host dialog::backdrop{-webkit-backdrop-filter:blur(2.7182817459px);backdrop-filter:blur(2.7182817459px)}:host .modal{display:flex;flex-direction:column;position:relative;border:none;border-radius:var(--theme-default-border-radius);background:var(--theme-modal--background);box-shadow:var(--theme-shadow-4);color:var(--theme-color-std-text);overflow:visible;max-height:80vh;pointer-events:all}:host .modal-size-360{width:22.5rem}:host .modal-size-480{width:30rem}:host .modal-size-600{width:37.5rem}:host .modal-size-720{width:45rem}:host .modal-size-840{width:52.5rem}:host .modal-size-full-width{width:95%}:host .modal-size-full-screen{border-radius:0;left:0 !important;top:0 !important;transform:none !important;box-shadow:none;--ix-dialog-full-screen-height:calc(\\n    var(--ix-safe-area-inset-top) + var(--ix-safe-area-inset-bottom)\\n  );width:calc(100% - var(--ix-dialog-padding) * 2);min-width:calc(100% - var(--ix-dialog-padding) * 2);max-width:calc(100% - var(--ix-dialog-padding) * 2);min-height:calc(100% - var(--ix-dialog-padding) * 2 - var(--ix-dialog-full-screen-height));max-height:calc(100% - var(--ix-dialog-padding) * 2 - var(--ix-dialog-full-screen-height))}:host dialog.modal-size-full-screen::backdrop{background:var(--theme-modal--background)}:host .dialog-backdrop{display:block;position:fixed;width:100vw;height:100vh;top:0;left:0;pointer-events:none}:host ::slotted(ix-modal-footer){margin-top:auto}:host(.visible){display:block}:host(.align-center) dialog{margin:0;left:50%;top:50%}:host(.no-backdrop) dialog::backdrop{background-color:transparent !important;-webkit-backdrop-filter:none !important;backdrop-filter:none !important}:host(.with-icon) ::slotted(ix-modal-footer),:host(.with-icon) ::slotted(ix-modal-content){margin-left:3rem}\";\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst Modal = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.dialogClose = createEvent(this, \"dialogClose\", 7);\n        this.dialogDismiss = createEvent(this, \"dialogDismiss\", 7);\n        this.ariaAttributes = {};\n        /**\n         * Modal size\n         */\n        this.size = '360';\n        /**\n         * Should the modal be animated\n         */\n        this.animation = true;\n        /**\n         * Show a backdrop behind the modal dialog\n         */\n        this.backdrop = true;\n        /**\n         * Dismiss modal on backdrop click\n         */\n        this.closeOnBackdropClick = false;\n        /**\n         * Centered modal\n         */\n        this.centered = false;\n        /**\n         * If set to true the modal can be closed by pressing the Escape key\n         */\n        this.closeOnEscape = true;\n        this.modalVisible = false;\n    }\n    onKey(e) {\n        if (e.key === 'Escape') {\n            e.preventDefault();\n        }\n    }\n    get dialog() {\n        return this.hostElement.shadowRoot.querySelector('dialog');\n    }\n    slideInModal() {\n        const duration = this.animation ? Animation.mediumTime : 0;\n        let transformY = this.centered ? '-50%' : 40;\n        anime({\n            targets: this.dialog,\n            duration,\n            opacity: [0, 1],\n            translateY: [0, transformY],\n            translateX: ['-50%', '-50%'],\n            easing: 'easeOutSine',\n        });\n    }\n    slideOutModal(completeCallback) {\n        const duration = this.animation ? Animation.mediumTime : 0;\n        let transformY = this.centered ? '-50%' : 40;\n        anime({\n            targets: this.dialog,\n            duration,\n            opacity: [1, 0],\n            translateY: [transformY, 0],\n            translateX: ['-50%', '-50%'],\n            easing: 'easeInSine',\n            complete: () => {\n                if (completeCallback) {\n                    completeCallback();\n                }\n            },\n        });\n    }\n    onModalClick(event) {\n        if (event.target !== this.dialog) {\n            return;\n        }\n        const rect = this.dialog.getBoundingClientRect();\n        const isClickOutside = rect.top <= event.clientY &&\n            event.clientY <= rect.top + rect.height &&\n            rect.left <= event.clientX &&\n            event.clientX <= rect.left + rect.width;\n        if (!isClickOutside && this.closeOnBackdropClick) {\n            this.dismissModal();\n        }\n    }\n    /**\n     * Show the dialog\n     */\n    async showModal() {\n        try {\n            const dialog = await waitForElement('dialog', this.hostElement.shadowRoot);\n            this.modalVisible = true;\n            dialog.showModal();\n        }\n        catch (e) {\n            console.error('HTMLDialogElement not existing');\n        }\n    }\n    /**\n     * Dismiss the dialog\n     */\n    async dismissModal(reason) {\n        if (!this.modalVisible) {\n            return;\n        }\n        let allowDismiss = true;\n        if (this.beforeDismiss !== undefined) {\n            allowDismiss = await this.beforeDismiss(reason);\n        }\n        if (!allowDismiss) {\n            return;\n        }\n        this.slideOutModal(() => {\n            this.modalVisible = false;\n            this.dialog.close(JSON.stringify({\n                type: 'dismiss',\n                reason,\n            }, null, 2));\n            this.dialogDismiss.emit(reason);\n        });\n    }\n    /**\n     * Close the dialog\n     */\n    async closeModal(reason) {\n        if (!this.modalVisible) {\n            return;\n        }\n        this.slideOutModal(() => {\n            this.modalVisible = false;\n            this.dialog.close(JSON.stringify({\n                type: 'close',\n                reason,\n            }, null, 2));\n            this.dialogClose.emit(reason);\n        });\n    }\n    componentDidLoad() {\n        this.slideInModal();\n    }\n    componentWillLoad() {\n        this.ariaAttributes = a11yHostAttributes(this.hostElement);\n    }\n    render() {\n        return (h(Host, { key: '8bf7dadc21c46f7ad2af8d728257fb572aaa614f', class: {\n                visible: this.modalVisible,\n                'no-backdrop': this.backdrop === false,\n                'align-center': this.centered,\n            } }, h(\"div\", { key: '22c82008401768f85dec8069cf55c85606fee12a', class: \"dialog-backdrop\" }, h(\"dialog\", { key: 'da673a81fb039edb081c84a773e496e2c092ac94', \"aria-modal\": a11yBoolean(true), \"aria-describedby\": this.ariaAttributes['aria-describedby'], \"aria-labelledby\": this.ariaAttributes['aria-labelledby'], class: {\n                modal: true,\n                [`modal-size-${this.size}`]: true,\n            }, onClose: () => this.dismissModal(), onClick: (event) => this.onModalClick(event), onCancel: (e) => {\n                e.preventDefault();\n                this.dismissModal();\n            } }, h(\"slot\", { key: 'abe789efb65c59b3a09835e80302f21d8d306c95' })))));\n    }\n    get hostElement() { return getElement(this); }\n};\n__decorate([\n    OnListener('keydown', (self) => !self.closeOnEscape)\n], Modal.prototype, \"onKey\", null);\nModal.style = modalCss;\n\nexport { Modal as ix_modal };\n//# sourceMappingURL=ix-modal.entry.js.map\n\n//# sourceMappingURL=ix-modal.entry.js.map"],"names":[],"mappings":"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","x_google_ignoreList":[0]}