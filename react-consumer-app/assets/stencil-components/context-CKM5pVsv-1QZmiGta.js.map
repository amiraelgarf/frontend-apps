{"version":3,"file":"context-CKM5pVsv-1QZmiGta.js","sources":["node_modules/@siemens/ix/dist/esm/context-CKM5pVsv.js"],"sourcesContent":["import { T as TypedEvent } from './typed-event-BdCnOrqW.js';\n\n/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/**\n * A function which creates a Context value object\n */\nfunction createContext(name, initialValue) {\n    return {\n        name,\n        initialValue,\n    };\n}\n/**\n * An event fired by a context requester to signal it desires a named context.\n *\n * A provider should inspect the `context` property of the event to determine if it has a value that can\n * satisfy the request, calling the `callback` with the requested value if so.\n *\n * If the requested context event contains a truthy `subscribe` value, then a provider can call the callback\n * multiple times if the value is changed, if this is the case the provider should pass an `unsubscribe`\n * function to the callback which requesters can invoke to indicate they no longer wish to receive these updates.\n */\nclass ContextEvent extends Event {\n    constructor(context, callback, subscribe) {\n        super('context-request', { bubbles: true, composed: true });\n        this.context = context;\n        this.callback = callback;\n        this.subscribe = subscribe;\n    }\n}\nfunction useContextConsumer(hostElement, context, onContextReceived, subscribe) {\n    let _unsubscribe;\n    hostElement.dispatchEvent(new ContextEvent(context, (ctx, unSub) => {\n        onContextReceived(ctx, unSub);\n        _unsubscribe = unSub;\n    }, subscribe));\n    return {\n        unsubscribe: () => {\n            if (_unsubscribe) {\n                _unsubscribe();\n            }\n        },\n    };\n}\nfunction useContextProvider(hostElement, context, contextPayload) {\n    const requestContext = new TypedEvent();\n    const updateContext = new TypedEvent();\n    const requests = new Set();\n    hostElement.addEventListener('context-request', (event) => {\n        const requestContextEvent = event;\n        if ((requestContextEvent === null || requestContextEvent === void 0 ? void 0 : requestContextEvent.context.name) !== context.name) {\n            return;\n        }\n        requestContextEvent.stopPropagation();\n        if (requestContextEvent.subscribe) {\n            requests.add(requestContextEvent);\n        }\n        requestContext.emit(requestContextEvent);\n        if (contextPayload) {\n            requestContextEvent.callback(contextPayload, () => {\n                requests.delete(requestContextEvent);\n            });\n        }\n    });\n    updateContext.on((context) => {\n        requests.forEach((r) => r.callback(context, () => {\n            requests.delete(r);\n        }));\n    });\n    return {\n        emit: (context) => {\n            updateContext.emit(context);\n        },\n    };\n}\n\n/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nconst closestIxMenu = (element) => {\n    const menuElement = element.closest('ix-menu');\n    return menuElement;\n};\nconst ApplicationLayoutContext = createContext('application-layout-context', {\n    hideHeader: false,\n    host: null,\n    sidebar: false,\n});\n\nexport { ApplicationLayoutContext as A, useContextConsumer as a, closestIxMenu as c, useContextProvider as u };\n//# sourceMappingURL=context-CKM5pVsv.js.map\n\n//# sourceMappingURL=context-CKM5pVsv.js.map"],"names":[],"mappings":"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","x_google_ignoreList":[0]}