{"version":3,"file":"focus-BAKpVknt.js","sources":["node_modules/@siemens/ix/dist/collection/components/utils/focus.js"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { addDisposableEventListener } from \"./disposable-event-listener\";\nexport class ArrowFocusController {\n    constructor(items, container, callback) {\n        this.wrap = false;\n        this.items = items;\n        this.container = container;\n        this.callback = callback;\n        this.keyListener = addDisposableEventListener(container, 'keydown', (e) => this.onKeyDown(e));\n    }\n    getActiveIndex() {\n        if (!document.activeElement) {\n            return -1;\n        }\n        return this.items.indexOf(document.activeElement);\n    }\n    onKeyDown(e) {\n        var _a, _b, _c, _d;\n        const activeIndex = this.getActiveIndex();\n        if (activeIndex < 0) {\n            return;\n        }\n        switch (e.key) {\n            case 'ArrowDown':\n                if (activeIndex < this.items.length - 1) {\n                    e.preventDefault();\n                    (_a = this.callback) === null || _a === void 0 ? void 0 : _a.call(this, activeIndex + 1);\n                }\n                else if (this.wrap) {\n                    e.preventDefault();\n                    (_b = this.callback) === null || _b === void 0 ? void 0 : _b.call(this, 0);\n                }\n                break;\n            case 'ArrowUp':\n                {\n                    if (activeIndex > 0) {\n                        e.preventDefault();\n                        (_c = this.callback) === null || _c === void 0 ? void 0 : _c.call(this, activeIndex - 1);\n                    }\n                    else if (this.wrap && activeIndex === 0) {\n                        e.preventDefault();\n                        (_d = this.callback) === null || _d === void 0 ? void 0 : _d.call(this, this.items.length - 1);\n                    }\n                }\n                break;\n        }\n    }\n    disconnect() {\n        if (this.keyListener) {\n            this.keyListener();\n        }\n        this.container = undefined;\n        this.callback = undefined;\n    }\n}\n//# sourceMappingURL=focus.js.map\n"],"names":[],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAM,oBAAoB,CAAC;AAClC,IAAI,WAAW,CAAC,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE;AAC5C,QAAQ,IAAI,CAAC,IAAI,GAAG,KAAK;AACzB,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK;AAC1B,QAAQ,IAAI,CAAC,SAAS,GAAG,SAAS;AAClC,QAAQ,IAAI,CAAC,QAAQ,GAAG,QAAQ;AAChC,QAAQ,IAAI,CAAC,WAAW,GAAG,0BAA0B,CAAC,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AACrG;AACA,IAAI,cAAc,GAAG;AACrB,QAAQ,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;AACrC,YAAY,OAAO,EAAE;AACrB;AACA,QAAQ,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC;AACzD;AACA,IAAI,SAAS,CAAC,CAAC,EAAE;AACjB,QAAQ,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;AAC1B,QAAQ,MAAM,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE;AACjD,QAAQ,IAAI,WAAW,GAAG,CAAC,EAAE;AAC7B,YAAY;AACZ;AACA,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACrB,YAAY,KAAK,WAAW;AAC5B,gBAAgB,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACzD,oBAAoB,CAAC,CAAC,cAAc,EAAE;AACtC,oBAAoB,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,MAAM,GAAG,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,GAAG,CAAC,CAAC;AAC5G;AACA,qBAAqB,IAAI,IAAI,CAAC,IAAI,EAAE;AACpC,oBAAoB,CAAC,CAAC,cAAc,EAAE;AACtC,oBAAoB,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,MAAM,GAAG,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AAC9F;AACA,gBAAgB;AAChB,YAAY,KAAK,SAAS;AAC1B,gBAAgB;AAChB,oBAAoB,IAAI,WAAW,GAAG,CAAC,EAAE;AACzC,wBAAwB,CAAC,CAAC,cAAc,EAAE;AAC1C,wBAAwB,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,MAAM,GAAG,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,GAAG,CAAC,CAAC;AAChH;AACA,yBAAyB,IAAI,IAAI,CAAC,IAAI,IAAI,WAAW,KAAK,CAAC,EAAE;AAC7D,wBAAwB,CAAC,CAAC,cAAc,EAAE;AAC1C,wBAAwB,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,MAAM,GAAG,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;AACtH;AACA;AACA,gBAAgB;AAChB;AACA;AACA,IAAI,UAAU,GAAG;AACjB,QAAQ,IAAI,IAAI,CAAC,WAAW,EAAE;AAC9B,YAAY,IAAI,CAAC,WAAW,EAAE;AAC9B;AACA,QAAQ,IAAI,CAAC,SAAS,GAAG,SAAS;AAClC,QAAQ,IAAI,CAAC,QAAQ,GAAG,SAAS;AACjC;AACA;;;;","x_google_ignoreList":[0]}