{"version":3,"file":"ix-validation-tooltip.entry-BpXXXpGB.js","sources":["node_modules/@siemens/ix/dist/esm/ix-validation-tooltip.entry.js"],"sourcesContent":["import { r as registerInstance, h, H as Host, g as getElement } from './index-BNpBEtDH.js';\nimport { i as inline, s as shift, o as offset, f as flip, a as autoUpdate, b as arrow, c as computePosition } from './floating-ui.dom-CAqtPJ4-.js';\n\nconst validationTooltipCss = \".text-xs{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.625rem;font-weight:400;line-height:1.4em;color:var(--theme-color-std-text)}.text-s{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:400;line-height:1.5em;color:var(--theme-color-std-text)}.text-caption{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:700;line-height:1.5em;color:var(--theme-color-std-text)}.text-caption-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:700;line-height:1em;color:var(--theme-color-std-text)}.text-default{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.429em;color:var(--theme-color-std-text)}.text-default-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.143em;color:var(--theme-color-std-text)}.text-default-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:700;line-height:1.429em;color:var(--theme-color-std-text)}.text-default-title-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:700;line-height:1.143em;color:var(--theme-color-std-text)}.text-l{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:400;line-height:1.5em;color:var(--theme-color-std-text)}.text-l-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:400;line-height:1.25em;color:var(--theme-color-std-text)}.text-l-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:700;line-height:1.5em;color:var(--theme-color-std-text)}.text-l-title-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:700;line-height:1.25em;color:var(--theme-color-std-text)}.text-h2{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1.375rem;font-weight:700;line-height:1.455em;color:var(--theme-color-std-text)}.text-xl{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1.375rem;font-weight:400;line-height:1.091em;color:var(--theme-color-std-text)}a{color:var(--theme-color-primary)}:host{display:inline-block;position:relative;width:100%;z-index:var(--theme-z-index-tooltip)}:host .validation-tooltip{background-color:var(--theme-tootlip--background);color:var(--theme-tooltip--color);padding:5px 10px;border-radius:4px;font-size:13px;border:1px solid var(--theme-tooltip--border-color);box-shadow:0 0 2px 0 rgba(0, 0, 40, 0.1), 0 4px 8px 0 rgba(0, 0, 40, 0.1), 0 12px 18px 0 rgba(0, 0, 40, 0.1)}:host .validation-tooltip #arrow,:host .validation-tooltip #arrow::before{position:absolute;width:8px;height:8px;background:inherit}:host .validation-tooltip #arrow{visibility:hidden}:host .validation-tooltip #arrow::before{visibility:visible;content:\\\"\\\";transform:rotate(45deg);background-color:var(--theme-tootlip--background)}:host .validation-tooltip>#arrow{bottom:-5px}:host .validation-tooltip>#arrow::before{border-right:1px solid var(--theme-tooltip--border-color);border-bottom:1px solid var(--theme-tooltip--border-color)}\";\n\nconst ValidationTooltip = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /**\n         * Placement of the tooltip\n         */\n        this.placement = 'top';\n        /**\n         * Suppress the automatic placement of the dropdown.\n         */\n        this.suppressAutomaticPlacement = false;\n        this.isInputValid = true;\n        this.onSubmitBind = this.onSubmit.bind(this);\n        this.onInputFocusBind = this.onInputFocus.bind(this);\n    }\n    get arrow() {\n        return this.hostElement.shadowRoot.querySelector('#arrow');\n    }\n    get inputElement() {\n        return this.hostElement.querySelector('input');\n    }\n    get formElement() {\n        var _a;\n        return (_a = this.inputElement) === null || _a === void 0 ? void 0 : _a.form;\n    }\n    get tooltipElement() {\n        return this.hostElement.shadowRoot.querySelector('.validation-tooltip');\n    }\n    destroyAutoUpdate() {\n        if (this.tooltipElement) {\n            this.tooltipElement.style.display = 'none';\n        }\n        if (this.autoUpdateCleanup) {\n            this.autoUpdateCleanup();\n        }\n    }\n    applyTooltipPosition() {\n        this.tooltipElement.style.display = 'block';\n        let positionConfig = {\n            strategy: 'fixed',\n            middleware: [\n                inline(),\n                shift(),\n                offset({\n                    mainAxis: 8,\n                }),\n            ],\n        };\n        if (!positionConfig.middleware) {\n            positionConfig.middleware = [];\n        }\n        if (!this.suppressAutomaticPlacement) {\n            positionConfig.middleware.push(flip({ fallbackStrategy: 'initialPlacement' }));\n        }\n        positionConfig.placement = this.placement;\n        this.autoUpdateCleanup = autoUpdate(this.inputElement, this.tooltipElement, async () => {\n            positionConfig.middleware = [\n                ...positionConfig.middleware,\n                arrow({\n                    element: this.arrow,\n                }),\n            ];\n            const computeResponse = await computePosition(this.inputElement, this.tooltipElement, positionConfig);\n            if (computeResponse.middlewareData.arrow) {\n                const { x, y } = computeResponse.middlewareData.arrow;\n                this.arrowPosition = {\n                    x,\n                    y,\n                };\n                Object.assign(this.arrow.style, {\n                    left: x != null ? `${x}px` : '',\n                    top: y != null ? `${y}px` : '',\n                });\n            }\n            this.tooltipPosition = {\n                x: computeResponse.x,\n                y: computeResponse.y,\n            };\n        }, {\n            ancestorResize: true,\n            ancestorScroll: true,\n            elementResize: true,\n        });\n    }\n    componentDidLoad() {\n        if (!this.inputElement) {\n            throw Error('Validation tooltip is only working with an direct input child.');\n        }\n        if (!this.formElement) {\n            throw Error('Validation tooltip is only working with an form element.');\n        }\n        this.formElement.addEventListener('submit', this.onSubmitBind);\n        this.inputElement.addEventListener('focus', this.onInputFocusBind);\n        this.observer = new MutationObserver(() => {\n            if (this.inputElement.classList.contains('is-invalid')) {\n                this.isInputValid = false;\n                this.validationChanged();\n            }\n        });\n        this.observer.observe(this.inputElement, {\n            childList: false,\n            subtree: false,\n            attributes: true,\n            attributeFilter: ['class'],\n        });\n    }\n    onInputFocus() {\n        this.isInputValid = true;\n    }\n    onSubmit() {\n        if (this.formElement.classList.contains('needs-validation')) {\n            this.isInputValid = this.inputElement.validity.valid;\n        }\n    }\n    disconnectedCallback() {\n        var _a, _b, _c;\n        (_a = this.observer) === null || _a === void 0 ? void 0 : _a.disconnect();\n        this.destroyAutoUpdate();\n        (_b = this.formElement) === null || _b === void 0 ? void 0 : _b.removeEventListener('submit', this.onSubmitBind);\n        (_c = this.inputElement) === null || _c === void 0 ? void 0 : _c.removeEventListener('focus', this.onInputFocusBind);\n    }\n    validationChanged() {\n        if (!this.isInputValid) {\n            this.applyTooltipPosition();\n        }\n        else {\n            this.destroyAutoUpdate();\n        }\n    }\n    render() {\n        var _a, _b, _c, _d;\n        return (h(Host, { key: '0582af013fdb45fa89977b01550230df8ad2e613' }, h(\"slot\", { key: '900e30ced560b90ad4495ab63a117c7f5e285632' }), h(\"div\", { key: '2196bc1ba0b51c93fc7e1705b8ce08aa76e8285e', role: \"tooltip\", style: {\n                display: 'none',\n                position: 'fixed',\n                top: '0',\n                left: '0',\n                transform: `translate(${Math.round((_b = (_a = this.tooltipPosition) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : 0)}px,${Math.round((_d = (_c = this.tooltipPosition) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : 0)}px)`,\n            }, class: \"validation-tooltip text-default\" }, this.message, h(\"slot\", { key: '0c0607ed1e4a966ae8a10da7b4e467adc18ff6e4', name: \"tooltip-message\" }), h(\"div\", { key: 'ce75800f7e47c71196e442a0387111ef0b19ad10', id: \"arrow\" }))));\n    }\n    get hostElement() { return getElement(this); }\n    static get watchers() { return {\n        \"isInputValid\": [\"validationChanged\"]\n    }; }\n};\nValidationTooltip.style = validationTooltipCss;\n\nexport { ValidationTooltip as ix_validation_tooltip };\n//# sourceMappingURL=ix-validation-tooltip.entry.js.map\n\n//# sourceMappingURL=ix-validation-tooltip.entry.js.map"],"names":[],"mappings":"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","x_google_ignoreList":[0]}