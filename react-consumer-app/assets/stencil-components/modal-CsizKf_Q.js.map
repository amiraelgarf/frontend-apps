{"version":3,"file":"modal-CsizKf_Q.js","sources":["node_modules/@siemens/ix/dist/collection/components/utils/delegate.js","node_modules/@siemens/ix/dist/collection/components/utils/modal/modal.js"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nclass DefaultFrameworkDelegate {\n    async attachView(view, config) {\n        var _a;\n        const attachToElement = (_a = config === null || config === void 0 ? void 0 : config.parentElement) !== null && _a !== void 0 ? _a : document.body;\n        attachToElement.appendChild(view);\n        return view;\n    }\n    async removeView(view) {\n        view.remove();\n    }\n}\nconst coreDelegate = new DefaultFrameworkDelegate();\nlet currentDelegate = coreDelegate;\nexport function registerFrameworkDelegate(delegate) {\n    currentDelegate = delegate;\n}\nexport const resolveDelegate = () => {\n    return currentDelegate;\n};\nexport const getCoreDelegate = () => coreDelegate;\n//# sourceMappingURL=delegate.js.map\n","/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { getCoreDelegate, resolveDelegate } from \"../delegate\";\nimport { TypedEvent } from \"../typed-event\";\nexport function setA11yAttributes(element, config) {\n    const ariaDescribedby = config.ariaDescribedby;\n    const ariaLabelledby = config.ariaLabelledby;\n    delete config['ariaDescribedby'];\n    delete config['ariaLabelledby'];\n    if (ariaDescribedby) {\n        element.setAttribute('aria-describedby', ariaDescribedby);\n    }\n    if (ariaLabelledby) {\n        element.setAttribute('aria-labelledby', ariaLabelledby);\n    }\n}\nfunction getIxModal(element) {\n    return element.closest('ix-modal');\n}\nexport function closeModal(element, closeResult) {\n    const dialog = getIxModal(element);\n    if (dialog) {\n        dialog.closeModal(closeResult);\n        return;\n    }\n}\nexport function dismissModal(element, dismissResult) {\n    const dialog = getIxModal(element);\n    if (dialog) {\n        dialog.dismissModal(dismissResult);\n        return;\n    }\n}\nexport async function showModal(config) {\n    const delegate = resolveDelegate();\n    let dialogRef;\n    const onClose = new TypedEvent();\n    const onDismiss = new TypedEvent();\n    if (typeof config.content === 'string') {\n        const dialog = document.createElement('ix-modal');\n        dialog.innerText = config.content;\n        dialogRef = await getCoreDelegate().attachView(dialog);\n    }\n    if (config.content instanceof HTMLElement &&\n        config.content.tagName !== 'IX-MODAL') {\n        const dialog = document.createElement('ix-modal');\n        dialog.appendChild(config.content);\n        dialogRef = await getCoreDelegate().attachView(dialog);\n    }\n    if (!dialogRef) {\n        dialogRef = await delegate.attachView(config.content);\n    }\n    setA11yAttributes(dialogRef, config);\n    Object.assign(dialogRef, config);\n    await dialogRef.showModal();\n    dialogRef.addEventListener('dialogClose', async ({ detail }) => {\n        onClose.emit(detail);\n        await delegate.removeView(dialogRef);\n    });\n    dialogRef.addEventListener('dialogDismiss', async ({ detail }) => {\n        onDismiss.emit(detail);\n        await delegate.removeView(dialogRef);\n    });\n    requestAnimationFrame(() => {\n        const autofocusElement = dialogRef.querySelector('[autofocus],[auto-focus]');\n        if (autofocusElement) {\n            autofocusElement.focus();\n        }\n    });\n    return {\n        htmlElement: dialogRef,\n        onClose,\n        onDismiss,\n    };\n}\n//# sourceMappingURL=modal.js.map\n"],"names":[],"mappings":"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","x_google_ignoreList":[0,1]}