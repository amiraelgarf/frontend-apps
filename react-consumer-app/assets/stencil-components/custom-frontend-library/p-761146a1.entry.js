import{r as t,g as e,h as r}from"./p-crweC_lX.js";import{s as i,o as n}from"./p-AkiUVwtn.js";import{t as s,c as o,d as a,l as f,m as l,a as c,b as h}from"./p-DCeK6rus.js";function d(t,e){let r=0;{for(let e of t){if(e!=null&&(e=+e)>=e){++r}}}return r}function u(t,e){let r;let i;if(e===undefined){for(const e of t){if(e!=null){if(r===undefined){if(e>=e)r=i=e}else{if(r>e)r=e;if(i<e)i=e}}}}else{let n=-1;for(let s of t){if((s=e(s,++n,t))!=null){if(r===undefined){if(s>=s)r=i=s}else{if(r>s)r=s;if(i<s)i=s}}}}return[r,i]}function m(t){return t}var g=Array.prototype;var p=g.slice;function x(t){return()=>t}function y(t,e,r){let i;while(true){const n=s(t,e,r);if(n===i||n===0||!isFinite(n)){return[t,e]}else if(n>0){t=Math.floor(t/n)*n;e=Math.ceil(e/n)*n}else if(n<0){t=Math.ceil(t*n)/n;e=Math.floor(e*n)/n}i=n}}function b(t){return Math.max(1,Math.ceil(Math.log(d(t))/Math.LN2)+1)}function w(){var t=m,e=u,r=b;function i(i){if(!Array.isArray(i))i=Array.from(i);var n,f=i.length,l,c,h=new Array(f);for(n=0;n<f;++n){h[n]=t(i[n],n,i)}var d=e(h),m=d[0],g=d[1],p=r(h,m,g);if(!Array.isArray(p)){const t=g,r=+p;if(e===u)[m,g]=y(m,g,r);p=o(m,g,r);if(p[0]<=m)c=s(m,g,r);if(p[p.length-1]>=g){if(t>=g&&e===u){const t=s(m,g,r);if(isFinite(t)){if(t>0){g=(Math.floor(g/t)+1)*t}else if(t<0){g=(Math.ceil(g*-t)+1)/-t}}}else{p.pop()}}}var x=p.length,b=0,w=x;while(p[b]<=m)++b;while(p[w-1]>g)--w;if(b||w<x)p=p.slice(b,w),x=w-b;var C=new Array(x+1),M;for(n=0;n<=x;++n){M=C[n]=[];M.x0=n>0?p[n-1]:m;M.x1=n<x?p[n]:g}if(isFinite(c)){if(c>0){for(n=0;n<f;++n){if((l=h[n])!=null&&m<=l&&l<=g){C[Math.min(x,Math.floor((l-m)/c))].push(i[n])}}}else if(c<0){for(n=0;n<f;++n){if((l=h[n])!=null&&m<=l&&l<=g){const t=Math.floor((m-l)*c);C[Math.min(x,t+(p[t]<=l))].push(i[n])}}}}else{for(n=0;n<f;++n){if((l=h[n])!=null&&m<=l&&l<=g){C[a(p,l,0,x)].push(i[n])}}}return C}i.value=function(e){return arguments.length?(t=typeof e==="function"?e:x(e),i):t};i.domain=function(t){return arguments.length?(e=typeof t==="function"?t:x([t[0],t[1]]),i):e};i.thresholds=function(t){return arguments.length?(r=typeof t==="function"?t:x(Array.isArray(t)?p.call(t):t),i):r};return i}const C=":host{display:block;width:100%;height:100%;font-family:'Inter', sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#333;}.histogramChart{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#f8f9fa;border-radius:12px;box-shadow:0 4px 12px rgba(0, 0, 0, 0.1);overflow:hidden;}.histogramChart svg{display:block;margin:auto;background-color:#ffffff;border-radius:10px;}.chart-title{font-size:24px;font-weight:600;fill:#202124;}rect{transition:all 0.3s ease-in-out;}rect:hover{opacity:0.9 !important;transform:translateY(-2px);box-shadow:0 2px 5px rgba(0, 0, 0, 0.2);}.domain{stroke:#aaa;stroke-width:1px}.tick line{stroke:#ccc;stroke-width:0.5px}.tick text{font-size:11px;fill:#555;}.axis-label{font-size:14px;font-weight:500;fill:#333}.legend{font-size:12px;fill:#555}.legend rect{stroke:#ccc;stroke-width:0.5px}.legend text{fill:#333}text{font-family:'Inter', sans-serif}rect.bar-s1,rect.bar-s2{cursor:pointer}.info-text{fill:#666;font-style:italic}.bar-s1,.bar-s2{cursor:pointer;transition:opacity 0.2s ease}";const M=class{constructor(e){t(this,e)}get el(){return e(this)}myWidth=800;myHight=500;nameOfChart="Grade in 1st Semester vs 2nd Semester";binCount=10;data=[];activeSemester=null;infoTextSelection=null;renderHistogram(){const t={top:70,right:40,bottom:60,left:175};const e=this.myWidth-t.left-t.right;const r=this.myHight-t.top-t.bottom;const s=this.el.shadowRoot?.querySelector(".histogramChart");if(s){s.innerHTML=""}const o=i(this.el.shadowRoot?.querySelector(".histogramChart")).append("svg").attr("width",e+t.left+t.right).attr("height",r+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")");o.append("text").attr("class","chart-title").attr("x",e/2).attr("y",-20).style("text-anchor","middle").style("font-size","20px").text(this.nameOfChart);const a=[...this.data.map((t=>t.semester1)),...this.data.map((t=>t.semester2))].filter((t=>t!==undefined&&t!==null));const d=f().domain([0,l(a)||0]).range([0,e]).nice();const u=w().value((t=>t)).domain(d.domain()).thresholds(d.ticks(this.binCount));const m=u(this.data.map((t=>t.semester1)));const g=u(this.data.map((t=>t.semester2)));const p=f().domain([0,l([...m,...g],(t=>t.length))||0]).range([r,0]).nice();const x=n().domain(["semester1","semester2"]).range(["#1f77b4","#ff7f0e"]);o.selectAll(".semester1").data(m).enter().append("rect").attr("class","bar-s1").attr("x",(t=>d(t.x0??0)+1)).attr("y",(t=>p(t.length??0))).attr("width",(t=>{const e=t.x0??0;const r=t.x1??e+1;return Math.max(0,d(r)-d(e)-1)})).attr("height",(t=>r-p(t.length??0))).attr("fill",(()=>x("semester1"))).attr("rx",5).attr("ry",5).attr("opacity",.7);o.selectAll(".semester2").data(g).enter().append("rect").attr("class","bar-s2").attr("x",(t=>d(t.x0??0)+1)).attr("y",(t=>p(t.length??0))).attr("width",(t=>{const e=t.x0??0;const r=t.x1??e+1;return Math.max(0,d(r)-d(e)-1)})).attr("height",(t=>r-p(t.length??0))).attr("fill",(()=>x("semester2"))).attr("rx",5).attr("ry",5).attr("opacity",.7);o.append("g").attr("transform",`translate(0,${r})`).call(c(d)).append("text").attr("x",e/2).attr("y",35).attr("fill","#000").text("Grade Ranges");o.append("g").call(h(p)).append("text").attr("transform","rotate(-90)").attr("y",-40).attr("x",-r/2).attr("fill","#000").text("Number of Students");const y=o.append("g").attr("transform",`translate(${e-100}, 20)`);y.append("rect").attr("x",0).attr("width",18).attr("height",18).attr("fill",x("semester1")).attr("opacity",.6);y.append("text").attr("x",25).attr("y",9).attr("dy","0.35em").text("Semester 1");y.append("rect").attr("x",0).attr("y",25).attr("width",18).attr("height",18).attr("fill",x("semester2")).attr("opacity",.6);y.append("text").attr("x",25).attr("y",34).attr("dy","0.35em").text("Semester 2")}OnPropChange(){this.renderHistogram()}componentDidLoad(){this.renderHistogram()}componentDidUpdate(){this.renderHistogram()}render(){return r("div",{key:"b6717c1914f836f2df04ad7447d4bd3c8a40169d",class:"histogramChart"})}static get watchers(){return{myWidth:["OnPropChange"],myHeight:["OnPropChange"],nameOfChart:["OnPropChange"],binCount:["OnPropChange"],data:["OnPropChange"]}}};M.style=C;export{M as histogram_chart};
//# sourceMappingURL=p-761146a1.entry.js.map