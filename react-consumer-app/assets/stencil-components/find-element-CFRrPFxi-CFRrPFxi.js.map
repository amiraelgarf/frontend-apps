{"version":3,"file":"find-element-CFRrPFxi-CFRrPFxi.js","sources":["node_modules/@siemens/ix/dist/esm/find-element-CFRrPFxi.js"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/**\n * Will try to resolve the selector in the light dom, shadow dom or slot\n * @param selector The selector to resolve\n * @param hostElement The element to start the search from\n * @returns Promise with the resolved elements or undefined if not found\n */\nasync function resolveSelector(selector, hostElement) {\n    const elements = Array.from(document.querySelectorAll(selector));\n    if (elements.length > 0) {\n        return Promise.resolve(elements);\n    }\n    if (hostElement === undefined) {\n        return Promise.resolve(undefined);\n    }\n    const shadowRoot = getRootFor(hostElement);\n    if (shadowRoot === undefined || !(shadowRoot instanceof ShadowRoot)) {\n        return Promise.resolve(undefined);\n    }\n    const elementsInShadowRoot = Array.from(shadowRoot.querySelectorAll(selector));\n    const elementsInHost = Array.from(shadowRoot.host.querySelectorAll(selector));\n    const elementsInComponent = [\n        ...elementsInHost,\n        ...elementsInShadowRoot,\n    ];\n    if (elementsInComponent.length > 0) {\n        return Promise.resolve(elementsInComponent);\n    }\n    return Promise.resolve(undefined);\n}\n/**\n * Walk up the DOM to find the nearest shadow root\n * @param element The element to get the root for\n * @param parent This will determine how far up the DOM to travel to find the root\n * @returns The root element\n */\nfunction getRootFor(element, parent = document.body) {\n    if (!element.parentElement && !element.parentNode) {\n        return undefined;\n    }\n    if (element.parentNode instanceof ShadowRoot) {\n        return element.parentNode;\n    }\n    let currentNode = element.parentElement;\n    while (currentNode) {\n        if (currentNode.shadowRoot) {\n            return currentNode.shadowRoot;\n        }\n        else if (currentNode.parentNode instanceof ShadowRoot) {\n            return currentNode.parentNode;\n        }\n        currentNode = currentNode.parentElement;\n    }\n    return parent;\n}\nfunction waitForSelector(selector, node = document, hostElement) {\n    return new Promise((resolve) => {\n        const waitForElements = () => {\n            resolveSelector(selector, hostElement).then((elements) => {\n                if (elements && elements.length > 0) {\n                    resolve(elements[0]);\n                    observer === null || observer === void 0 ? void 0 : observer.disconnect();\n                }\n            });\n        };\n        waitForElements();\n        const observer = new MutationObserver(() => {\n            waitForElements();\n        });\n        observer.observe(node.body, {\n            childList: true,\n            subtree: true,\n        });\n    });\n}\n/**\n * Find an element by ID or reference\n * @param element The element to find\n * @param hostElement The element to start the search from\n * @returns A promise that will resolve to the element\n */\nfunction findElement(element, hostElement) {\n    if (element instanceof Promise) {\n        return element;\n    }\n    if (typeof element === 'object') {\n        return Promise.resolve(element);\n    }\n    const selector = `#${element}`;\n    return waitForSelector(selector, document, hostElement);\n}\n\nexport { findElement as f, resolveSelector as r };\n//# sourceMappingURL=find-element-CFRrPFxi.js.map\n\n//# sourceMappingURL=find-element-CFRrPFxi.js.map"],"names":[],"mappings":"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","x_google_ignoreList":[0]}