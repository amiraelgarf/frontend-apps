{"version":3,"file":"input.util-DORL_qfP-BS3d3_oF.js","sources":["node_modules/@siemens/ix/dist/esm/input.util-DORL_qfP.js"],"sourcesContent":["import { h } from './index-BNpBEtDH.js';\nimport { a as a11yBoolean } from './a11y-Bb7pDeaQ.js';\nimport { s as shouldSuppressInternalValidation } from './validation-CS0nhfz1.js';\nimport { c as createMutationObserver } from './mutation-observer-CX81WQtk.js';\nimport { c as convertToRemString } from './rwd.util-pXYAoEyc.js';\nimport { a as anime } from './anime.es-Ou74PMQs.js';\n\n/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nfunction TextareaElement(props) {\n    return (h(\"textarea\", Object.assign({ readOnly: props.readonly, disabled: props.disabled, maxLength: props.maxLength, minLength: props.minLength, cols: props.textareaCols, rows: props.textareaRows, ref: props.textAreaRef, class: {\n            'is-invalid': props.isInvalid,\n        }, required: props.required, value: props.value, placeholder: props.placeholder, onInput: (inputEvent) => {\n            const target = inputEvent.target;\n            props.updateFormInternalValue(target.value);\n            props.valueChange(target.value);\n        }, onBlur: () => props.onBlur(), style: {\n            resize: props.resizeBehavior,\n            height: props.textareaHeight,\n            width: props.textareaWidth,\n        } }, props.ariaAttributes)));\n}\nfunction InputElement(props) {\n    return (h(\"input\", Object.assign({ id: props.id, autoComplete: \"off\", readOnly: props.readonly, disabled: props.disabled, step: props.step, min: props.min, max: props.max, maxLength: props.maxLength ? Number(props.maxLength) : undefined, minLength: props.minLength ? Number(props.minLength) : undefined, ref: props.inputRef, pattern: props.pattern, type: props.type, class: {\n            'is-invalid': props.isInvalid,\n        }, required: props.required, value: props.value, placeholder: props.placeholder, onKeyPress: (event) => props.onKeyPress(event), onInput: (inputEvent) => {\n            const target = inputEvent.target;\n            props.updateFormInternalValue(target.value);\n            props.valueChange(target.value);\n        }, onBlur: () => props.onBlur() }, props.ariaAttributes)));\n}\nconst SlotEnd = (props, children) => {\n    return (h(\"div\", { class: \"end-container\", ref: props.slotEndRef },\n        h(\"slot\", { name: \"end\", onSlotchange: props.onSlotChange }),\n        children));\n};\nconst SlotStart = (props) => {\n    return (h(\"div\", { class: \"start-container\", ref: props.slotStartRef },\n        h(\"slot\", { name: \"start\", onSlotchange: props.onSlotChange })));\n};\n\n/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nfunction shakeInput(input) {\n    const xMax = 5;\n    anime({\n        targets: input,\n        duration: 200,\n        easing: 'easeInOutSine',\n        loop: 2,\n        translateX: [\n            {\n                value: xMax * -1,\n            },\n            {\n                value: xMax,\n            },\n            {\n                value: xMax / -2,\n            },\n            {\n                value: xMax / 2,\n            },\n            {\n                value: 0,\n            },\n        ],\n    });\n}\n\n/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nfunction mapValidationResult(ref, result) {\n    ref.isInvalid = result.isInvalid || result.isInvalidByRequired;\n    ref.isValid = result.isValid;\n    ref.isInfo = result.isInfo;\n    ref.isWarning = result.isWarning;\n}\nfunction checkAllowedKeys(comp, event) {\n    if (comp.allowedCharactersPattern) {\n        const regex = new RegExp(comp.allowedCharactersPattern);\n        if (!regex.test(event.key)) {\n            event.preventDefault();\n            shakeInput(comp.inputRef.current);\n        }\n    }\n}\nasync function checkInternalValidity(comp, input) {\n    const validityState = input.validity;\n    const eventResult = comp.validityStateChange.emit(validityState);\n    if (eventResult.defaultPrevented) {\n        return;\n    }\n    if (!comp.value) {\n        return;\n    }\n    const skipValidation = await shouldSuppressInternalValidation(comp);\n    if (skipValidation) {\n        return;\n    }\n    const { valid } = validityState;\n    comp.hostElement.classList.toggle('ix-invalid--validity-invalid', !valid);\n}\nfunction onInputBlur(comp, input) {\n    comp.ixBlur.emit();\n    if (!input) {\n        throw new Error('Input element is not available');\n    }\n    input.setAttribute('data-ix-touched', 'true');\n    checkInternalValidity(comp, input);\n}\nfunction applyPaddingEnd(inputElement, width, options) {\n    var _a;\n    if (!inputElement) {\n        return;\n    }\n    const remInPixels = 16;\n    const padding = convertToRemString(width + remInPixels / 2);\n    if (options.slotEnd) {\n        inputElement.style.paddingRight = `calc(${padding} + ${(_a = options.additionalPaddingRight) !== null && _a !== void 0 ? _a : '0rem'})`;\n    }\n    else {\n        inputElement.style.paddingLeft = padding;\n    }\n}\nfunction adjustPaddingForStartAndEnd(startElement, endElement, inputElement) {\n    requestAnimationFrame(() => {\n        requestAnimationFrame(() => {\n            if (startElement) {\n                const startBoundingRect = startElement.getBoundingClientRect();\n                if (startBoundingRect) {\n                    applyPaddingEnd(inputElement, startBoundingRect.width, {\n                        slotEnd: false,\n                    });\n                }\n            }\n            if (endElement) {\n                const endBoundingRect = endElement.getBoundingClientRect();\n                if (endBoundingRect) {\n                    applyPaddingEnd(inputElement, endBoundingRect.width, {\n                        slotEnd: true,\n                    });\n                }\n            }\n        });\n    });\n}\nfunction getAriaAttributesForInput(component) {\n    const inputAria = {\n        'aria-invalid': `${a11yBoolean(component.isInvalid)}`,\n        'aria-required': `${a11yBoolean(component.required)}`,\n    };\n    if (component.isInvalid && component.invalidText) {\n        inputAria['aria-errormessage'] = component.invalidText;\n    }\n    return inputAria;\n}\nconst addDisposableChangesAndVisibilityObservers = (element, callback) => {\n    const intersectionObserver = observeElementUntilVisible(element, callback);\n    const mutationObserver = createMutationObserver(callback);\n    mutationObserver.observe(element, {\n        subtree: true,\n        attributes: true,\n    });\n    return () => {\n        intersectionObserver.disconnect();\n        mutationObserver.disconnect();\n    };\n};\nfunction observeElementUntilVisible(hostElement, updateCallback) {\n    const intersectionObserver = new IntersectionObserver((entries) => {\n        entries.forEach((entry) => {\n            if (entry.isIntersecting) {\n                updateCallback();\n            }\n        });\n    });\n    intersectionObserver.observe(hostElement);\n    return intersectionObserver;\n}\n\nexport { InputElement as I, SlotEnd as S, TextareaElement as T, addDisposableChangesAndVisibilityObservers as a, adjustPaddingForStartAndEnd as b, SlotStart as c, checkAllowedKeys as d, checkInternalValidity as e, getAriaAttributesForInput as g, mapValidationResult as m, onInputBlur as o };\n//# sourceMappingURL=input.util-DORL_qfP.js.map\n\n//# sourceMappingURL=input.util-DORL_qfP.js.map"],"names":[],"mappings":"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","x_google_ignoreList":[0]}